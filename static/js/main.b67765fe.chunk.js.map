{"version":3,"sources":["Components/BlogPost.js","Components/Home.js","Components/NavBar.js","Components/CreatePost.js","Components/ViewPost.js","Components/LoginForm.js","Components/DeleteComment.js","Components/DeletePost.js","Components/UpdatePost.js","App.js","index.js"],"names":["BlogPost","props","className","data","title","text","date","published","to","_id","Home","useState","posts","setPosts","Loading","setLoading","useEffect","fetch","credentials","then","response","json","catch","err","Error","length","map","post","NavBar","CreatePost","titleRef","useRef","textRef","redirect","setRedirect","errors","setErrors","route","setRoute","error","msg","type","for","ref","id","name","onClick","e","preventDefault","method","headers","body","JSON","stringify","current","value","console","log","ViewPost","setPost","comments","setComments","nameRef","postPromise","match","params","commentPromise","Promise","all","comment","window","location","reload","LoginForm","usernameRef","passwordRef","success","setSuccess","setTimeout","username","password","DeleteComment","setComment","show","setShow","commentId","DeletePost","UpdatePost","defaultValue","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+MAuBeA,EApBE,SAACC,GACd,OACI,sBAAKC,UAAU,aAAf,UACI,qBAAKA,UAAU,eAAf,SAA+BD,EAAME,KAAKC,QAC1C,qBAAKF,UAAU,cAAf,SAA8BD,EAAME,KAAKE,OACzC,sBAAKH,UAAU,YAAf,UACI,8BAAMD,EAAME,KAAKG,OACjB,sBAAKJ,UAAU,mBAAf,UACI,8BAAMD,EAAME,KAAKI,UAAY,YAAc,YAC3C,cAAC,IAAD,CAAMC,GAAI,SAASP,EAAME,KAAKM,IAA9B,SACI,yDCgCTC,EA1CF,WAET,MAAyBC,mBAAS,IAAlC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAmBA,OAjBAC,qBAAU,WACND,GAAW,GAEXE,MAAM,2CAA2C,CAACC,YAAY,YACzDC,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBF,MAAK,SAAAhB,GACFU,EAASV,GACTY,GAAW,MAEdO,OAAM,SAAAC,GACH,MAAM,IAAIC,MAAM,4BAG1B,IAECV,EACQ,0CAGP,8BAEuB,IAAfF,EAAMa,OAEF,iDAEAb,EAAMc,KAAI,SAAAC,GACN,OACI,cAAC,EAAD,CAAUxB,KAAMwB,U,OCZ7BC,EAtBA,WACX,OACI,sBAAK1B,UAAU,SAAf,UACI,qBAAKA,UAAU,OAAf,SACI,oDAEJ,sBAAKA,UAAU,aAAf,UACI,cAAC,IAAD,CAAMA,UAAU,UAAUM,GAAG,IAA7B,SACI,2CAEJ,cAAC,IAAD,CAAMN,UAAU,UAAUM,GAAG,UAA7B,SACI,iDAEJ,cAAC,IAAD,CAAMN,UAAU,UAAUM,GAAG,SAA7B,SACI,kDC+DLqB,EA7EI,WAEf,IAAMC,EAAWC,iBAAO,MAClBC,EAAUD,iBAAO,MAEvB,EAAgCpB,oBAAS,GAAzC,mBAAOsB,EAAP,KAAiBC,EAAjB,KACA,EAA4BvB,mBAAS,IAArC,mBAAOwB,EAAP,KAAeC,EAAf,KACA,EAA0BzB,mBAAS,IAAnC,mBAAO0B,EAAP,KAAcC,EAAd,KAwCA,OANAtB,qBAAU,WACK,KAARqB,GACCH,GAAY,KAElB,CAACG,IAEAJ,EACS,cAAC,IAAD,CAAUzB,GAAE,gBAAW6B,KAI/B,gCACI,qBAAKnC,UAAU,iBAAf,SACKiC,EAAOT,KAAI,SAAAa,GACR,OACI,8BACKA,EAAMC,WAKvB,uBAAMtC,UAAU,aAAauC,KAAK,SAAlC,UAEI,uBAAOC,IAAI,QAAX,mBACA,uBAAOC,IAAKb,EAAUW,KAAK,OAAOG,GAAG,QAAQC,KAAK,UAElD,uBAAOH,IAAI,OAAX,kBACA,0BAAUC,IAAKX,EAASS,KAAK,OAAOG,GAAG,OAAOC,KAAK,SAEnD,wBAAQC,QA7DD,SAACC,GAChBA,EAAEC,iBAEF/B,MAAM,2CAA4C,CAC9CgC,OAAO,OACP/B,YAAY,UACZgC,QAAQ,CACJ,eAAgB,oBAEpBC,KAAKC,KAAKC,UAAU,CAChBjD,MAAM0B,EAASwB,QAAQC,MACvBlD,KAAK2B,EAAQsB,QAAQC,UAG5BpC,MAAK,SAAAhB,GACF,OAAOA,EAAKkB,UAEfF,MAAK,SAAAC,GACFoC,QAAQC,IAAIrC,GACTA,EAASe,OACRC,EAAUhB,EAASe,QAGnBG,EAASlB,EAASX,QAGzBa,OAAM,SAAAC,GACH,MAAM,IAAIC,MAAMD,OAkCiBkB,KAAK,SAAlC,2BC8CDiB,EAnHE,SAACzD,GAEd,MAAwBU,mBAAS,IAAjC,mBAAOgB,EAAP,KAAagC,EAAb,KACA,EAAgChD,mBAAS,IAAzC,mBAAOiD,EAAP,KAAiBC,EAAjB,KACA,EAA4BlD,mBAAS,IAArC,mBAAOwB,EAAP,KAAeC,EAAf,KACA,EAA8BzB,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEM+C,EAAU/B,iBAAO,MACjBC,EAAUD,iBAAO,MAIvBf,qBAAU,WACN,IAAI+C,EAAc9C,MAAM,4CAAD,OAA6ChB,EAAM+D,MAAMC,OAAOrB,IAAK,CAAC1B,YAAY,YACrGgD,EAAiBjD,MAAM,4CAAD,OAA6ChB,EAAM+D,MAAMC,OAAOrB,GAAhE,YAA6E,CAAC1B,YAAY,YAEpHiD,QAAQC,IAAI,CAACL,EAAaG,IACzB/C,MAAK,YAAoB,IAAD,mBAAjBQ,EAAiB,KAAZiC,EAAY,KACrB,OAAOO,QAAQC,IAAI,CAACzC,EAAKN,OAAQuC,EAASvC,YAE7CF,MAAK,SAAAC,GACFL,GAAW,GAERK,EAAS,GAAGe,OACXC,EAAUhB,EAAS,GAAGe,SAGtBwB,EAAQvC,EAAS,IACjByC,EAAYzC,EAAS,QAG5BE,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,QAElB,IA+BF,OAAGT,EACQ,0CAEa,IAAhBqB,EAAOV,OACJ,8BAAMU,IAIb,gCACI,sBAAKjC,UAAU,WAAf,UACI,8BAAMyB,EAAKvB,QACX,8BAAMuB,EAAKtB,OACX,8BAAMsB,EAAKrB,OACX,cAAC,IAAD,CAAME,GAAE,gBAAWP,EAAM+D,MAAMC,OAAOrB,GAA9B,WAAR,SACI,iDAEJ,cAAC,IAAD,CAAMpC,GAAE,gBAAWP,EAAM+D,MAAMC,OAAOrB,GAA9B,WAAR,SACI,oDAGR,qBAAK1C,UAAU,iBAAf,SACK0D,EAASlC,KAAI,SAAA2C,GACV,OACI,sBAAKnE,UAAU,UAAf,UACI,8BAAMmE,EAAQxB,OACd,8BAAMwB,EAAQhE,OACd,cAAC,IAAD,CAAMG,GAAE,gBAAWP,EAAM+D,MAAMC,OAAOrB,GAA9B,oBAA4CyB,EAAQ5D,KAA5D,SACI,4DAMpB,qBAAKP,UAAU,gBAAf,SACI,uBAAMA,UAAU,gBAAhB,UAEI,uBAAOwC,IAAI,OAAX,kBACA,uBAAOC,IAAKmB,EAASlB,GAAG,OAAOC,KAAK,SAEpC,uBAAOH,IAAI,OAAX,kBACA,uBAAOC,IAAKX,EAASY,GAAG,OAAOC,KAAK,SAEpC,wBAAQC,QAtEF,SAACC,GACnBA,EAAEC,iBAEF/B,MAAM,4CAAD,OAA6ChB,EAAM+D,MAAMC,OAAOrB,GAAhE,YACD,CACIK,OAAO,OACPC,QAAQ,CACJ,eAAgB,oBAEpBC,KAAKC,KAAKC,UAAU,CAChBR,KAAKiB,EAAQR,QAAQC,MACrBlD,KAAK2B,EAAQsB,QAAQC,MACrBX,GAAG3C,EAAM+D,MAAMC,OAAOrB,OAGjCzB,MAAK,SAAAkD,GACF,OAAOA,EAAQhD,UAElBF,MAAK,SAAAC,GACFkD,OAAOC,SAASC,YAEnBlD,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,OAgDJ,qCCzBLkD,EAnFG,WAEd,IAAMC,EAAc3C,iBAAO,MACrB4C,EAAc5C,iBAAO,MAE3B,EAA4BpB,mBAAS,IAArC,mBAAOwB,EAAP,KAAeC,EAAf,KACA,EAA6BzB,oBAAS,GAAtC,mBAAOiE,EAAP,KAAeC,EAAf,KACA,EAAiClE,oBAAS,GAA1C,mBAAOsB,EAAP,KAAkBC,EAAlB,KA0CA,OARAlB,qBAAU,WACH4D,GACCE,YAAW,WACP5C,GAAY,KACd,OAER,CAAC0C,IAEA3C,EACQ,cAAC,IAAD,CAAUzB,GAAG,MAIpB,uBAAMN,UAAU,YAAYuC,KAAK,SAAjC,UACI,qBAAKvC,UAAU,iBAAf,SACK0E,EAAU,wEAAmD,+BAElE,qBAAK1E,UAAU,eAAf,SACKiC,EAAOT,KAAI,SAAAa,GACR,OACI,8BACKA,EAAMC,WAKvB,sBAAKtC,UAAU,eAAf,UACI,wCACA,sBAAKA,UAAU,eAAf,UACI,uBAAOwC,IAAI,WAAX,sBACA,uBAAOC,IAAK+B,EAAa9B,GAAG,WAAWC,KAAK,gBAEhD,sBAAK3C,UAAU,eAAf,UACI,uBAAOwC,IAAI,WAAX,sBACA,uBAAOC,IAAKgC,EAAa/B,GAAG,WAAWC,KAAK,gBAEhD,wBAAS3C,UAAU,YAAY4C,QAnExB,SAACC,GAChBA,EAAEC,iBAEF/B,MAAM,4CAA4C,CAC9CgC,OAAO,OACP/B,YAAY,UACZgC,QAAQ,CACJ,eAAgB,oBAEpBC,KAAKC,KAAKC,UAAU,CAChB0B,SAASL,EAAYpB,QAAQC,MAC7ByB,SAASL,EAAYrB,QAAQC,UAGpCpC,MAAK,SAAAhB,GACF,OAAOA,EAAKkB,UAEfF,MAAK,SAAAC,GACCA,EAASe,OACRC,EAAUhB,EAASe,SAGnBC,EAAU,IACVyC,GAAW,OAGlBvD,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,OAwCR,2BCAD0D,EA7EO,SAAChF,GAEnB,MAA8BU,mBAAS,IAAvC,mBAAO0D,EAAP,KAAgBa,EAAhB,KACA,EAA4BvE,mBAAS,IAArC,mBAAeyB,GAAf,WACA,EAAwBzB,oBAAS,GAAjC,mBAAOwE,EAAP,KAAaC,EAAb,KACA,EAAgCzE,oBAAS,GAAzC,mBAAOsB,EAAP,KAAiBC,EAAjB,KAEAlB,qBAAU,WACNC,MAAM,4CAAD,OAC2ChB,EAAM+D,MAAMC,OAAOrB,GAD9D,oBAC4E3C,EAAM+D,MAAMC,OAAOoB,YAEnGlE,MAAK,SAAAhB,GACF,OAAOA,EAAKkB,UAEfF,MAAK,SAAAC,GACCA,EAASe,OACRC,EAAUhB,EAASe,QAGnB+C,EAAW9D,MAGlBE,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,QAGlB,IAyBF,OAAGU,EAEK,cAAC,IAAD,CAAUzB,GAAE,gBAAWP,EAAM+D,MAAMC,OAAOrB,MAK9C,gCACI,8BAAMyB,EAAQxB,OACd,8BAAMwB,EAAQhE,OACd,wBAAQyC,QAAS,WAAKsC,GAAQ,IAA9B,kCAEID,EACA,gCACI,wBAAQrC,QArCF,SAAEC,GACpBA,EAAEC,iBAEF/B,MAAM,4CAAD,OAC2ChB,EAAM+D,MAAMC,OAAOrB,GAD9D,oBAC4E3C,EAAM+D,MAAMC,OAAOoB,WAChG,CACIpC,OAAO,SACP/B,YAAY,YAInBC,MAAK,SAAAhB,GACF,OAAOA,EAAKkB,UAEfF,MAAK,SAAAC,GACFoC,QAAQC,IAAIrC,GACZc,GAAY,MAEfZ,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,OAkBJ,qBACA,wBAAQuB,QAAS,WAAKsC,GAAQ,IAA9B,uBAGJ,iCCODE,EA3EI,SAACrF,GAEhB,MAAwBU,mBAAS,IAAjC,mBAAOgB,EAAP,KAAagC,EAAb,KACA,EAA4BhD,mBAAS,IAArC,mBACA,GADA,UAC8BA,oBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAwBJ,oBAAS,GAAjC,mBAAOwE,EAAP,KAAaC,EAAb,KACA,EAAgCzE,oBAAS,GAAzC,mBAAOsB,EAAP,KAAiBC,EAAjB,KAGAlB,qBAAU,WACNC,MAAM,4CAAD,OAA6ChB,EAAM+D,MAAMC,OAAOrB,IAAM,CAAC1B,YAAY,YACnFC,MAAK,SAAAhB,GACF,OAAOA,EAAKkB,UAEfF,MAAK,SAAAC,GACFoC,QAAQC,IAAIrC,GACZuC,EAAQvC,GACRL,GAAW,MAEdO,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,QAEtB,IAyBF,OAAGT,EACQ,0CAERmB,EAEK,cAAC,IAAD,CAAUzB,GAAE,MAKhB,sBAAKN,UAAU,aAAf,UACI,8BAAMyB,EAAKvB,QACX,8BAAMuB,EAAKtB,OACX,8BAAMsB,EAAKrB,OACX,wBAAQwC,QAAS,WAAKsC,GAAQ,IAA9B,kCAEID,EACA,gCACI,wBAAQrC,QAzCL,SAACC,GAChBA,EAAEC,iBAEF/B,MAAM,4CAAD,OAC2ChB,EAAM+D,MAAMC,OAAOrB,IAC/D,CACIK,OAAO,SACP/B,YAAY,YAInBC,MAAK,SAAAhB,GACF,OAAOA,EAAKkB,UAEfF,MAAK,SAAAC,GACFoC,QAAQC,IAAIrC,GACZc,GAAY,MAEfZ,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,OAsBJ,qBACA,wBAAQuB,QAAS,WAAKsC,GAAQ,IAA9B,uBAGJ,iCCRDG,EA9DI,SAACtF,GAEhB,MAAwBU,mBAAS,IAAjC,mBAAOgB,EAAP,KAAagC,EAAb,KACA,EAA4BhD,mBAAS,IAArC,mBACA,GADA,UAC8BA,oBAAS,IAAvC,mBAAgBI,GAAhB,WAEMe,EAAWC,iBAAO,MAClBC,EAAUD,iBAAO,MAIvBf,qBAAU,WACNC,MAAM,4CAAD,OAA6ChB,EAAM+D,MAAMC,OAAOrB,KAChEzB,MAAK,SAAAhB,GACF,OAAOA,EAAKkB,UAEfF,MAAK,SAAAC,GAEFuC,EAAQvC,GACRL,GAAW,MAEdO,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,QAEtB,IA2BF,OACI,8BACI,iCACI,uBAAOoB,IAAKb,EAAU0D,aAAc7D,EAAKvB,QACzC,uBAAOuC,IAAKX,EAASwD,aAAc7D,EAAKtB,OACxC,wBAAQyC,QA9BD,SAACC,GAChBA,EAAEC,iBAEF/B,MAAM,4CAAD,OAA6ChB,EAAM+D,MAAMC,OAAOrB,IAAK,CACtEK,OAAO,MACP/B,YAAY,UACZgC,QAAQ,CACJ,eAAgB,oBAEpBC,KAAKC,KAAKC,UAAU,CAChBjD,MAAM0B,EAASwB,QAAQC,MACvBlD,KAAK2B,EAAQsB,QAAQC,UAG5BpC,MAAK,SAAAhB,GACF,OAAOA,EAAKkB,UAEfF,MAAK,SAAAC,GACFoC,QAAQC,IAAIrC,MAEfE,OAAM,SAAAC,GACHiC,QAAQC,IAAIlC,OASR,+BC9BDkE,MAjBf,WACE,OACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWlF,IACjC,cAAC,IAAD,CAAOgF,OAAK,EAACC,KAAK,UAAUC,UAAW/D,IACvC,cAAC,IAAD,CAAO6D,OAAK,EAACC,KAAK,YAAYC,UAAWlC,IACzC,cAAC,IAAD,CAAOgC,OAAK,EAACC,KAAK,SAASC,UAAWnB,IACtC,cAAC,IAAD,CAAOiB,OAAK,EAACC,KAAK,+BAA+BC,UAAWX,IAL9D,IAME,cAAC,IAAD,CAAOS,OAAK,EAACC,KAAK,mBAAmBC,UAAWN,IAChD,cAAC,IAAD,CAAOI,OAAK,EAACC,KAAK,mBAAmBC,UAAWL,WCnBxDM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.b67765fe.chunk.js","sourcesContent":["import React from 'react'\nimport {Link } from 'react-router-dom';\n\nconst BlogPost = (props) => {\n    return (\n        <div className='singlePost'>\n            <div className='titleSection'>{props.data.title}</div>\n            <div className='textSection'>{props.data.text}</div>\n            <div className='bottomRow'>\n                <div>{props.data.date}</div>\n                <div className='rightSide bottom'>\n                    <div>{props.data.published ? 'Unpublish' : 'Publish'}</div>\n                    <Link to={'/post/'+props.data._id}>\n                        <span>View Post</span>\n                    </Link>\n                </div>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default BlogPost\n","import React, {useState, useEffect} from 'react'\nimport BlogPost from './BlogPost'\n\nconst Home = () => {\n\n    const [posts,setPosts] = useState([])\n    const [Loading, setLoading] = useState(false);\n\n    useEffect(()=>{\n        setLoading(true);\n        \n        fetch('https://dcblogapi.herokuapp.com/api/post',{credentials:'include'})\n            .then(response=>{\n                return response.json();\n            })\n            .then(data=>{\n                setPosts(data);\n                setLoading(false);\n            })\n            .catch(err=>{\n                throw new Error('Failed to fetch api')\n            })\n\n    },[])\n\n    if(Loading){\n        return <div>Loading</div>\n    }\n    return (\n        <div>\n            {\n                posts.length===0 ? \n                \n                    <div>No posts found</div> \n                    :\n                    posts.map(post=>{\n                        return(\n                            <BlogPost data={post}/>\n                        )\n                    })\n            }\n        </div>\n    )\n}\n\nexport default Home\n","import React from 'react'\nimport {Link} from 'react-router-dom'\n\nconst NavBar = () => {\n    return (\n        <div className='navBar'>\n            <div className='logo'>\n                <div>Blog Controller</div>\n            </div>\n            <div className='navSection'>\n                <Link className='navLink' to='/'>\n                    <span >Posts</span>\n                </Link>\n                <Link className='navLink' to='/create'>\n                    <span >Create Post</span>\n                </Link>\n                <Link className='navLink' to='/login'>\n                    <span >Login</span> \n                </Link>\n            </div>\n\n        </div>\n    )\n}\n\nexport default NavBar\n","import React, {useState, useRef, useEffect} from 'react'\nimport {Redirect} from 'react-router';\n\nconst CreatePost = () => {\n\n    const titleRef = useRef(null);\n    const textRef = useRef(null);\n\n    const [redirect, setRedirect] = useState(false);\n    const [errors, setErrors] = useState([])\n    const [route, setRoute] = useState('');\n\n    const createPost = (e) =>{\n        e.preventDefault();\n\n        fetch('https://dcblogapi.herokuapp.com/api/post', {\n            method:'POST',\n            credentials:'include',\n            headers:{\n                'Content-Type': 'application/json',\n            },\n            body:JSON.stringify({\n                title:titleRef.current.value,\n                text:textRef.current.value\n            })\n        })\n        .then(data=>{\n            return data.json();\n        })\n        .then(response=>{\n            console.log(response);//\n            if(response.errors){\n                setErrors(response.errors)\n            }\n            else{\n                setRoute(response._id);\n            }\n        })\n        .catch(err=>{\n            throw new Error(err)\n        })\n    }\n\n    //Get new post route and redirect to it\n    useEffect(()=>{\n        if(route!==''){\n            setRedirect(true)\n        }\n    },[route])\n\n    if(redirect){\n        return (<Redirect to={`/post/${route}`}></Redirect>)\n    }\n\n    return (\n        <div>\n            <div className='errorContainer'>\n                {errors.map(error=>{\n                    return (\n                        <div>\n                            {error.msg}\n                        </div>\n                    )\n                })}\n            </div>\n            <form className='submitForm' type='submit'>\n\n                <label for='title'>Title</label>\n                <input ref={titleRef} type='text' id='title' name='title'></input>\n\n                <label for='text'>Text</label>\n                <textarea ref={textRef} type='text' id='text' name='text'></textarea>\n\n                <button onClick={createPost} type='submit'>Submit</button>\n            </form>\n        </div>\n\n    )\n}\n\nexport default CreatePost\n","import React, {useState, useEffect, useRef} from 'react'\nimport {Redirect} from 'react-router';\nimport {Link} from 'react-router-dom';\n\nconst ViewPost = (props) => {\n\n    const [post, setPost] = useState({})\n    const [comments, setComments] = useState([])\n    const [errors, setErrors] = useState([])\n    const [Loading, setLoading] = useState(true);\n\n    const nameRef = useRef(null)\n    const textRef = useRef(null)\n\n\n    //Initial Api call to get post and comments\n    useEffect(()=>{\n        let postPromise = fetch(`https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}`,{credentials:'include'})\n        let commentPromise = fetch(`https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}/comment`,{credentials:'include'})\n\n        Promise.all([postPromise, commentPromise])\n        .then(([post,comments])=>{\n            return Promise.all([post.json(), comments.json()])\n        })\n        .then(response=>{\n            setLoading(false);\n\n            if(response[0].errors){\n                setErrors(response[0].errors)\n            }\n            else{\n                setPost(response[0])\n                setComments(response[1]) \n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    },[])\n\n    //Submit Comment function ONLY FOR TESTING, NOT NEEDED ON CONTROLLER\n    const submitComment = (e) =>{\n        e.preventDefault()\n\n        fetch(`https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}/comment`,\n            {\n                method:'POST',\n                headers:{\n                    'Content-Type': 'application/json',\n                },\n                body:JSON.stringify({\n                    name:nameRef.current.value,\n                    text:textRef.current.value,\n                    id:props.match.params.id,\n                })\n            })\n        .then(comment=>{\n            return comment.json()\n        })\n        .then(response=>{\n            window.location.reload()\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n\n\n    if(Loading){\n        return <div>Loading</div>\n    }\n    else if(errors.length!==0){\n        return <div>{errors}</div>\n    }\n\n    return (\n        <div>\n            <div className='viewPost'>\n                <div>{post.title}</div>\n                <div>{post.text}</div>\n                <div>{post.date}</div>\n                <Link to={`/post/${props.match.params.id}/delete`}>\n                    <span>Delete Post</span>\n                </Link>\n                <Link to={`/post/${props.match.params.id}/update`}>\n                    <span>Update Post</span>\n                </Link>\n            </div>\n            <div className='commentSection'>\n                {comments.map(comment=>{\n                    return(\n                        <div className='comment'>\n                            <div>{comment.name}</div>\n                            <div>{comment.text}</div>\n                            <Link to={`/post/${props.match.params.id}/comment/${comment._id}`}>\n                                <span>Delete Comment</span>\n                            </Link>\n                        </div>\n                    )\n                })}\n            </div>\n            <div className='formContainer'>\n                <form className='createComment'>\n\n                    <label for='name'>Name</label>\n                    <input ref={nameRef} id='name' name='name'></input>\n\n                    <label for='text'>Text</label>\n                    <input ref={textRef} id='text' name='text'></input>\n\n                    <button onClick={submitComment}>Submit Comment</button>\n                </form>\n            </div>\n        </div>\n\n    )\n}\n\nexport default ViewPost\n","import React, {useRef, useState, useEffect} from 'react'\nimport {Redirect} from 'react-router';\n\nconst LoginForm = () => {\n\n    const usernameRef = useRef(null)\n    const passwordRef = useRef(null)\n\n    const [errors, setErrors] = useState([])\n    const [success,setSuccess] = useState(false)\n    const [redirect , setRedirect] = useState(false);\n\n    //Maybe add response to already signed in;\n    const submitForm = (e) =>{\n        e.preventDefault();\n\n        fetch('https://dcblogapi.herokuapp.com/api/login',{\n            method:'POST',\n            credentials:'include',\n            headers:{\n                'Content-Type': 'application/json',\n            },\n            body:JSON.stringify({\n                username:usernameRef.current.value,\n                password:passwordRef.current.value\n            })\n        })\n        .then(data=>{\n            return data.json()\n        })\n        .then(response=>{\n            if(response.errors){\n                setErrors(response.errors)\n            }\n            else{\n                setErrors([])\n                setSuccess(true);\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    useEffect(()=>{\n        if(success){\n            setTimeout(()=>{\n                setRedirect(true)\n            },2000) \n        }\n    },[success])\n\n    if(redirect){\n        return <Redirect to='/'></Redirect>\n    }\n\n    return (\n        <form className='loginForm' type='submit'>\n            <div className='successSection'>\n                {success ? <div>Login successful, Redirecting shortly</div> : <></>}\n            </div>\n            <div className='errorSection'>\n                {errors.map(error=>{\n                    return (\n                        <div>\n                            {error.msg}\n                        </div>\n                    )\n                })}\n            </div>\n            <div className='inputWrapper'>\n                <div>Login</div>\n                <div className='inputSection'>\n                    <label for='username'>Username</label>\n                    <input ref={usernameRef} id='username' name='username'></input>\n                </div>\n                <div className='inputSection'>\n                    <label for='password'>Password</label>\n                    <input ref={passwordRef} id='password' name='password'></input>\n                </div>\n                <button  className='submitBtn' onClick={submitForm}>Submit</button>\n            </div>\n        </form>\n    )\n}\n\nexport default LoginForm\n","import React, {useEffect, useState} from 'react'\nimport {Redirect} from 'react-router';\n\nconst DeleteComment = (props) => {\n\n    const [comment, setComment] = useState({})\n    const [errors, setErrors] = useState({})\n    const [show, setShow] = useState(false);\n    const [redirect, setRedirect] = useState(false)\n\n    useEffect(()=>{\n        fetch(\n            `https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}/comment/${props.match.params.commentId}`,\n        )\n        .then(data=>{\n            return data.json()\n        })\n        .then(response=>{\n            if(response.errors){\n                setErrors(response.errors)\n            }\n            else{\n                setComment(response)\n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n    },[])\n\n    const deleteComment = ( e )=>{\n        e.preventDefault();\n\n        fetch(\n            `https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}/comment/${props.match.params.commentId}`,\n            {\n                method:'DELETE',\n                credentials:'include',\n            }\n        )\n        //VERY UNFINISHED\n        .then(data=>{\n            return data.json()\n        })\n        .then(response=>{\n            console.log(response);\n            setRedirect(true);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    if(redirect){\n        return(\n            <Redirect to={`/post/${props.match.params.id}`}></Redirect>\n        )\n    }\n\n    return (\n        <div>\n            <div>{comment.name}</div>\n            <div>{comment.text}</div>\n            <button onClick={()=>{setShow(true)}}>Delete this comment?</button>\n            {\n                show ? \n                <div>\n                    <button onClick={deleteComment}>Confirm</button>\n                    <button onClick={()=>{setShow(false)}}>Cancel</button>\n                </div>\n                :\n                <></>\n            }\n\n\n        </div>\n    )\n}\n\nexport default DeleteComment\n","import React, {useState, useEffect} from 'react'\nimport {Redirect} from 'react-router';\nimport {Link} from 'react-router-dom';\n\nconst DeletePost = (props) => {\n\n    const [post, setPost] = useState({})\n    const [errors, setErrors] = useState([])\n    const [Loading, setLoading] = useState(true);\n    const [show, setShow] = useState(false);\n    const [redirect, setRedirect] = useState(false)\n\n    //Initial Api call to get post and comments\n    useEffect(()=>{\n        fetch(`https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}`, {credentials:'include'})\n            .then(data=>{\n                return data.json()\n            })\n            .then(response=>{\n                console.log(response)\n                setPost(response)\n                setLoading(false);\n            })\n            .catch(err=>{\n                console.log(err);\n            })\n    },[])\n\n    const deletePost = (e) =>{\n        e.preventDefault();\n\n        fetch(\n            `https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}`,\n            {\n                method:'DELETE',\n                credentials:'include',\n            }\n        )\n        //VERY UNFINISHED\n        .then(data=>{\n            return data.json()\n        })\n        .then(response=>{\n            console.log(response);\n            setRedirect(true);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    if(Loading){\n        return <div>Loading</div>\n    }\n    if(redirect){\n        return(\n            <Redirect to={`/`}></Redirect>\n        )\n    }\n\n    return (\n        <div className='DeletePost'>\n            <div>{post.title}</div>\n            <div>{post.text}</div>\n            <div>{post.date}</div>\n            <button onClick={()=>{setShow(true)}}>Delete this comment?</button>\n            {\n                show ? \n                <div>\n                    <button onClick={deletePost}>Confirm</button>\n                    <button onClick={()=>{setShow(false)}}>Cancel</button>\n                </div>\n                :\n                <></>\n            }\n        </div>\n    )\n}\n\nexport default DeletePost\n","import React, {useState, useEffect, useRef} from 'react'\nimport {Redirect} from 'react-router';\n\nconst UpdatePost = (props) => {\n\n    const [post, setPost] = useState({})\n    const [errors, setErrors] = useState([])\n    const [Loading, setLoading] = useState(true);\n\n    const titleRef = useRef(null)\n    const textRef = useRef(null)\n\n\n    //Initial Api call to get post and comments\n    useEffect(()=>{\n        fetch(`https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}`)\n            .then(data=>{\n                return data.json()\n            })\n            .then(response=>{\n                // console.log(response)\n                setPost(response)\n                setLoading(false);\n            })\n            .catch(err=>{\n                console.log(err);\n            })\n    },[])\n\n    const updatePost = (e) =>{\n        e.preventDefault();\n\n        fetch(`https://dcblogapi.herokuapp.com/api/post/${props.match.params.id}`,{\n            method:'PUT',\n            credentials:'include',\n            headers:{\n                'Content-Type': 'application/json',\n            },\n            body:JSON.stringify({\n                title:titleRef.current.value,\n                text:textRef.current.value\n            })\n        })\n        .then(data=>{\n            return data.json()\n        })\n        .then(response=>{\n            console.log(response)\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n            <form>\n                <input ref={titleRef} defaultValue={post.title}></input>\n                <input ref={textRef} defaultValue={post.text}></input>\n                <button onClick={updatePost}>Update post</button>\n            </form>\n        </div>\n    )\n}\n\nexport default UpdatePost\n","import './App.css';\nimport React from 'react';\nimport Home from './Components/Home';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport NavBar from './Components/NavBar';\nimport CreatePost from './Components/CreatePost';\nimport ViewPost from './Components/ViewPost';\nimport LoginForm from './Components/LoginForm';\nimport DeleteComment from './Components/DeleteComment';\nimport DeletePost from './Components/DeletePost';\nimport UpdatePost from './Components/UpdatePost';\n\nfunction App() {\n  return (\n    <Router>\n      <NavBar/>\n      <Switch>\n        <Route exact path='/' component={Home}/>\n        <Route exact path='/create' component={CreatePost}/>\n        <Route exact path='/post/:id' component={ViewPost}/>\n        <Route exact path='/login' component={LoginForm}/>\n        <Route exact path='/post/:id/comment/:commentId' component={DeleteComment}/>;\n        <Route exact path='/post/:id/delete' component={DeletePost}/>\n        <Route exact path='/post/:id/update' component={UpdatePost}/>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}